<link rel="import" href="./supported-operation-view.html">
<link rel="import" href="../../../bower_components/vaadin-combo-box/vaadin-combo-box.html">
<dom-module id="supported-operations-viewer">
  <template>
    <style>
      [hidden] {
        display: none;
      }
    </style>
    <vaadin-combo-box label="Supported Operation" item-value-path="id" item-label-path="method" items="[[supportedOperations]]" selected-item="{{selectedOperation}}" id="supportedOperations">
    </vaadin-combo-box>

    <supported-operation-view supported-operation="[[selectedOperation]]" hidden$="[[!operationIsSelected]]"></supported-operation-view>
  </template>
  <script>
    class SupportedOperationsViewer extends Polymer.Element {
      static get is() {
        return 'supported-operations-viewer';
      }
      static get properties() {
        return {
          supportedOperations: {
            type: Array,
            observer: 'clearSelection'
          },
          selectedOperation: Object,
          operationIsSelected: {
            type: Boolean,
            computed: '_operationIsSelectedComputed(selectedOperation)'
          }
        };
      }
      _operationIsSelectedComputed(selectedOperation) {
        return typeof selectedOperation !== 'undefined' && selectedOperation !== null;
      }
      clearSelection() {
        this.$.selectedOperation = null;
        this.$.supportedOperations.value = '';
      }
    }
    customElements.define(SupportedOperationsViewer.is, SupportedOperationsViewer);
  </script>
</dom-module>
