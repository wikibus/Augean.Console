<link rel="import" href="../supported-classes/supported-class-link.html">
<dom-module id="supported-property-view">
  <template>
    <style>
      :host {
        display: block;
      }

      [hidden] {
        display: none;
      }
    </style>
    <p>
      [[supportedProperty.description]]
    </p>
    <p>
      <b>Predicate:</b>
      <br> [[supportedProperty.property.id]]
    </p>
    <p>
      <b>Required:</b>
      <iron-icon icon="[[yesNoIcon(supportedProperty.required)]]"></iron-icon>
    </p>
    <p>
      <b>Writable:</b>
      <iron-icon icon="[[yesNoIcon(supportedProperty.writable)]]"></iron-icon>
    </p>
    <p>
      <b>Readable:</b>
      <iron-icon icon="[[yesNoIcon(supportedProperty.readable)]]"></iron-icon>
    </p>

    <supported-operations-viewer hidden$="[[!hasOperations]]" supported-operations="[[supportedProperty.property.supportedOperations]]"></supported-operations-viewer>
  </template>
  <script>
    class SupportedPropertyView extends Polymer.Element {
      static get is() {
        return 'supported-property-view';
      }
      static get properties() {
        return {
          supportedProperty: Object,
          hasOperations: {
            type: Boolean,
            computed: '_hasOperationsComputed(supportedProperty)'
          }
        };
      }
      _hasOperationsComputed(supportedProperty) {
        if (supportedProperty) {
          return supportedProperty.property.supportedOperations.length > 0;
        }
        return false;
      }
      yesNoIcon(val) {
        if (val === true) {
          return 'icons:check';
        }
        return 'icons:clear';
      }
    }
    customElements.define(SupportedPropertyView.is, SupportedPropertyView);
  </script>
</dom-module>
